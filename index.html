<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Faunafilm</title>
        <meta name="description" content="Faunafilm - Professional Animal Training for Film and TV" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;700&display=swap" rel="stylesheet" />

        <style>
            .carousel {
                width: 100%;
                height: 300px;
                overflow: hidden;
                position: relative;
                margin: 2rem 0;
            }

            @media (min-width: 768px) {
                .carousel {
                    height: 350px;
                }
            }

            @media (min-width: 1024px) {
                .carousel {
                    height: 400px;
                }
            }

            .carousel-container {
                display: flex;
                transition: transform 1s ease-in-out;
                height: 100%;
            }

            .carousel-slide {
                flex: 0 0 100%;
                width: 100%;
                height: 100%;
                padding: 0 0.5rem;
            }

            @media (min-width: 768px) {
                .carousel-slide {
                    flex: 0 0 33.333%;
                    width: 33.333%;
                }
            }

            @media (min-width: 1024px) {
                .carousel-slide {
                    flex: 0 0 20%;
                    width: 20%;
                }
            }

            .carousel-slide img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 0.5rem;
            }

            .contact-links {
                color: rgba(255, 255, 255, 0.8);
                transition: color 0.3s ease;
            }

            .contact-links:hover {
                color: white;
            }
        </style>
    </head>
    <body class="bg-black">
        <header class="fixed top-0 z-20 w-full">
            <nav class="2lg:px-12 mx-auto max-w-7xl px-6 py-12 lg:px-12 xl:px-6 2xl:px-0">
                <div class="flex items-center justify-between">
                    <a href="/" class="text-2xl font-light tracking-widest text-white">Faunafilm</a>
                </div>
            </nav>
        </header>
        <main class="relative pt-32">
            <div class="mx-auto max-w-7xl px-6 lg:px-12 xl:px-6 2xl:px-0">
                <div class="max-w-4xl">
                    <h1 class="mb-8 text-4xl font-bold text-white md:text-5xl lg:text-6xl">
                        Professional Animal Care<br />
                        for your film projects
                    </h1>

                    <p class="mb-12 text-lg leading-relaxed text-white/80">Faunafilm trains, casts and prepares animal actors for shooting of feature films, TV, commercials and photography sessions all over the world for more than 25 years. Our team of experienced handlers cares for health and welfare of our actors directly on set.</p>

                    <p class="text-lg text-white/80">
                        Contact us for more information on:
                        <a href="mailto:info@faunafilm.cz" class="contact-links">info@faunafilm.cz</a>
                        /
                        <a href="tel:+420602271402" class="contact-links">+420 602 271 402</a>
                    </p>
                </div>

                <div id="carouselWrapper" class="carousel">
                    <!-- Carousel container will be created dynamically -->
                </div>
            </div>
        </main>

        <script type="module" src="./main.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/dixonandmoe/rellax@master/rellax.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Create carousel container
                const wrapper = document.getElementById("carouselWrapper");
                if (!wrapper) {
                    console.error("Carousel wrapper not found");
                    return;
                }

                // Create the container element
                const container = document.createElement("div");
                container.className = "carousel-container";
                container.id = "carouselContainer";
                wrapper.appendChild(container);

                const totalImages = 26;

                // Generate slides
                for (let i = 1; i <= totalImages; i++) {
                    const slide = document.createElement("div");
                    slide.className = "carousel-slide";

                    const img = document.createElement("img");
                    img.src = `/images/projects/${i}.jpeg`;
                    img.alt = `Project ${i}`;
                    img.loading = "lazy";

                    slide.appendChild(img);
                    container.appendChild(slide);
                }

                // Add extra slides for smooth looping
                for (let i = 1; i <= 5; i++) {
                    const extraSlide = document.createElement("div");
                    extraSlide.className = "carousel-slide";
                    const extraImg = document.createElement("img");
                    extraImg.src = `/images/projects/${i}.jpeg`;
                    extraImg.alt = `Project ${i}`;
                    extraSlide.appendChild(extraImg);
                    container.appendChild(extraSlide);
                }

                let currentIndex = 0;
                const slideCount = totalImages;

                function moveCarousel() {
                    currentIndex++;

                    // Get the slide width based on screen size
                    let slideWidth;
                    if (window.innerWidth >= 1024) {
                        slideWidth = 20; // 5 slides on desktop
                    } else if (window.innerWidth >= 768) {
                        slideWidth = 33.333; // 3 slides on tablet
                    } else {
                        slideWidth = 100; // 1 slide on mobile
                    }

                    container.style.transform = `translateX(-${currentIndex * slideWidth}%)`;

                    if (currentIndex >= slideCount) {
                        setTimeout(() => {
                            container.style.transition = "none";
                            currentIndex = 0;
                            container.style.transform = `translateX(0)`;
                            setTimeout(() => {
                                container.style.transition = "transform 1s ease-in-out";
                            }, 50);
                        }, 1000);
                    }
                }

                // Update carousel on window resize
                let resizeTimer;
                window.addEventListener("resize", () => {
                    clearTimeout(resizeTimer);
                    resizeTimer = setTimeout(() => {
                        currentIndex = 0;
                        container.style.transition = "none";
                        container.style.transform = `translateX(0)`;
                        setTimeout(() => {
                            container.style.transition = "transform 1s ease-in-out";
                        }, 50);
                    }, 250);
                });

                // Start the carousel
                setInterval(moveCarousel, 4000);
            });
        </script>
    </body>
</html>
